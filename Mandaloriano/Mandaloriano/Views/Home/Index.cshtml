@model Mandaloriano.Models.ViewModel;

@{
    ViewData["Title"] = "Misiones de la Nueva República";
}

<div class="text-center">

    <h2>"Misiones de la Nueva República Galáctica"</h2>
    <br />

    @* Formulario de tipo dropdown que mostrará los nombres de todas las misiones y 
    devolverá el Id de la seleccionada al hacer click en el botón *@
    <form method="post">
        <label>Misión: </label>
        
        <select name="misionSeleccionada">
             @* Si el usuario no ha elegido todavía ninguna mision, mostramos este mensaje predeterminado*@
            <option value="NOSELECTEDVALUE">-- Por favor, escoja una misión --</option>

            @*Recorremos la lista de misiones*@
            @for (var i = 0; i < Model.ListaMisiones.Count; i++)
            {
                @*Si el id de la mision es igual al id de una de las misiones de la lista*@
                if (Model.Mision.Id == Model.ListaMisiones[i].Id)
                {
                    @*Mostramos el nombre de la mision seleccionada*@
                    <option selected value="@Model.ListaMisiones[i].Id"> @Model.ListaMisiones[i].NombreMision </option>
                }
                else @*Si no, mostramos solo los nombres de las misiones en el desplegable*@
                {
                    <option value="@Model.ListaMisiones[i].Id">@Model.ListaMisiones[i].NombreMision</option>
                }
            }
        </select>
        <input type="submit" value="Ver detalles" />

        <br />
        <br />

    </form>

    @*Si se ha seleccionado una mision muestro los detalles de la misma por pantalla*@
    @if (Model.Mision.Id > 0)
    {
        <h4>@Model.Mision.NombreMision</h4>
        <br />
        <label>@Model.Mision.Detalles</label>
        <br />
        <label>@Model.Mision.Creditos </label>
    }
    
</div>
